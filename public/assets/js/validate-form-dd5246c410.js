const usernameEl=document.querySelector("#username"),emailEl=document.querySelector("#email"),passwordEl=document.querySelector("#password"),confirmPasswordEl=document.querySelector("#confirm-password"),form=document.querySelector(".form form");console.log("object");const checkUsername=()=>{let e=!1;const s=usernameEl.value.trim();return isRequired(s)?isBetween(s.length,3,25)?(showSuccess(usernameEl),e=!0):showError(usernameEl,"Username must be between 3 and 25 characters."):showError(usernameEl,"Username cannot be blank."),e},checkEmail=()=>{let e=!1;const s=emailEl.value.trim();return isRequired(s)?isEmailValid(s)?(showSuccess(emailEl),e=!0):showError(emailEl,"Email is not valid."):showError(emailEl,"Email cannot be blank."),e},checkPassword=()=>{let e=!1;const s=passwordEl.value.trim();return isRequired(s)?isPasswordSecure(s)?(showSuccess(passwordEl),e=!0):showError(passwordEl,"Password must has at least 8 characters that include at least 1 lowercase character, 1 uppercase characters, 1 number, and 1 special character in (!@#$%^&*)"):showError(passwordEl,"Password cannot be blank."),e},checkConfirmPassword=()=>{let e=!1;const s=confirmPasswordEl.value.trim(),r=passwordEl.value.trim();return isRequired(s)?r!==s?showError(confirmPasswordEl,"The password does not match"):(showSuccess(confirmPasswordEl),e=!0):showError(confirmPasswordEl,"Please enter the password again"),e},isEmailValid=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),isPasswordSecure=e=>new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(e),isRequired=e=>""!==e,isBetween=(e,s,r)=>!(e<s||e>r),showError=(e,s)=>{const r=e.parentElement;r.classList.remove("success"),r.classList.add("error");r.querySelector("small").textContent=s},showSuccess=e=>{const s=e.parentElement;s.classList.remove("error"),s.classList.add("success");s.querySelector("small").textContent=""};form.addEventListener("submit",(function(e){let s;if(e.preventDefault(),usernameEl){let e=checkUsername(),r=checkEmail(),a=checkPassword(),o=checkConfirmPassword();s=e&&r&&a&&o}else{let e=checkEmail(),r=checkPassword();s=e&&r}s&&(console.log("valid"),form.submit())}));const debounce=(e,s=500)=>{let r;return(...a)=>{r&&clearTimeout(r),r=setTimeout(()=>{e.apply(null,a)},s)}};form.addEventListener("input",debounce((function(e){switch(e.target.id){case"username":checkUsername();break;case"email":checkEmail();break;case"password":checkPassword();break;case"confirm-password":checkConfirmPassword()}})));